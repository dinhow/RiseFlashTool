<Window x:Class="RiseFlashTool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="RiseFlashTool"
        Height="650"
        Width="950"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        Foreground="#E0E0E0"
        WindowStyle="None"
        ResizeMode="CanResizeWithGrip"
        AllowsTransparency="True"
        Loaded="Window_Loaded">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="40"
                      ResizeBorderThickness="5"/>
    </WindowChrome.WindowChrome>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <Border Background="#2D2D30"
                Grid.Row="0"
                MouseDown="TitleBar_MouseDown">
            <Grid>
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Margin="15,0,0,0">
                    <TextBlock x:Name="lblTitle"
                               Text="RISE"
                               FontWeight="Bold"
                               Foreground="#2196F3"
                               FontSize="14"/>
                    <TextBlock x:Name="lblTitleSubtitle"
                               Text="FLASH TOOL"
                               FontWeight="Normal"
                               Foreground="#AAAAAA"
                               Margin="0,0,0,0"
                               FontSize="14"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            WindowChrome.IsHitTestVisibleInChrome="True">

                    <Button Content="?"
                            Width="30"
                            Click="BtnAbout_Click"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="#888"
                            FontWeight="Bold"
                            ToolTip="Sobre e Pinagem"/>

                    <Button Content="_"
                            Width="40"
                            Click="BtnMinimize_Click"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="White"/>
                    <Button Content="X"
                            Width="40"
                            Click="BtnClose_Click"
                            Background="#C62828"
                            BorderThickness="0"
                            Foreground="White"/>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Row="1"
              Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0">
                <GroupBox Header="Configuração"
                          BorderBrush="#444"
                          Foreground="#CCC"
                          Margin="0,0,0,15"
                          Padding="5">
                    <StackPanel>
                        <TextBlock Text="Porta COM:"
                                   Foreground="#888"
                                   Margin="0,5,0,0"/>

                        <ComboBox x:Name="cmbPorts"
                                  Height="30"
                                  Background="#333"
                                  Foreground="#333"
                                  Margin="0,2"
                                  SelectionChanged="CmbPorts_SelectionChanged"/>

                        <TextBlock Text="Baud Rate:"
                                   Foreground="#888"
                                   Margin="0,5,0,0"/>
                        <ComboBox x:Name="cmbBaud"
                                  Height="30"
                                  Background="#333"
                                  Foreground="#333"
                                  Margin="0,2"
                                  IsEditable="True"
                                  Text="115200">
                            <ComboBoxItem Content="115200"/>
                            <ComboBoxItem Content="4000000"/>
                        </ComboBox>
                        <Button Content="⟳ Refresh"
                                Height="20"
                                Margin="0,5"
                                FontSize="10"
                                Click="BtnRefreshPorts_Click"
                                Background="Transparent"
                                BorderBrush="#444"
                                Foreground="#888"/>
                    </StackPanel>
                </GroupBox>

                <Button Content="DETECTAR CHIP"
                        Margin="0,5"
                        Height="40"
                        Background="#3E3E42"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnDetect_Click"/>
                <Button Content="LER (SMART BACKUP)"
                        Margin="0,5"
                        Height="40"
                        Background="#3E3E42"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnRead_Click"/>

                <Border Height="2"
                        Background="#333"
                        Margin="0,15"/>

                <Button Content="SELECIONAR ARQUIVO"
                        Margin="0,5"
                        Height="40"
                        Background="#555"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnSelectFile_Click"/>

                <Button Content="GRAVAR FW"
                        Margin="0,5"
                        Height="40"
                        Background="#C62828"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnWrite_Click"/>

                <Border Height="2"
                        Background="#333"
                        Margin="0,15"/>
                <Button Content="COMPARAR"
                        Margin="0,5"
                        Height="40"
                        Background="#2196F3"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnCompare_Click"/>
            </StackPanel>

            <Grid Grid.Column="1"
                  Margin="20,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock x:Name="lblStatus"
                           Text="Selecione a Porta COM..."
                           FontSize="18"
                           Foreground="#FF9800"
                           Margin="0,0,0,10"/>

                <Grid Grid.Row="1">
                    <Border Background="#252526"
                            BorderBrush="#3E3E42"
                            BorderThickness="1"
                            CornerRadius="5">
                        <ScrollViewer x:Name="scrollConsole">
                            <TextBlock x:Name="txtConsole"
                                       Text="> RiseFlashTool inicializado..."
                                       Margin="10"
                                       FontFamily="Consolas"
                                       Foreground="#00E676"/>
                        </ScrollViewer>
                    </Border>

                    <Button Content="Limpar"
                            VerticalAlignment="Top"
                            HorizontalAlignment="Right"
                            Margin="0,5,20,0"
                            Height="25"
                            Width="60"
                            FontSize="10"
                            Background="#333"
                            BorderThickness="0"
                            Foreground="#888"
                            Click="BtnClearConsole_Click"
                            ToolTip="Limpar log do console"/>
                </Grid>
            </Grid>
        </Grid>

        <Border Grid.Row="2"
                Background="#007ACC">
            <Grid>
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Margin="10,0">
                    <TextBlock Text="Arquivo:"
                               Foreground="White"
                               Opacity="0.7"
                               FontSize="11"
                               Margin="0,0,5,0"/>
                    <TextBlock x:Name="lblFileInfo"
                               Text="Nenhum selecionado"
                               Foreground="White"
                               FontWeight="SemiBold"
                               FontSize="11"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Margin="10,0">
                    <Ellipse x:Name="elStatus"
                             Width="8"
                             Height="8"
                             Fill="#AAA"
                             Margin="0,0,8,0"/>
                    <TextBlock x:Name="lblConnectionStatus"
                               Text="Aguardando dispositivo..."
                               Foreground="White"
                               FontSize="11"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>